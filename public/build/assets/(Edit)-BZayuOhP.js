import{d as c,k as U,a as v,r as $,c as h,o as w,b as t,e as s,w as d,y as k,_ as i,u as r,v as p,an as b,aU as y,h as D,i as g}from"./app-BOkKnMk8.js";import{B}from"./BasicCard-ClXIXozC.js";import{_ as u}from"./AppInput.vue_vue_type_script_setup_true_lang-Bd-6u1aG.js";import{_ as N}from"./UploadAvatarModal.vue_vue_type_script_setup_true_lang-DNzfGbBX.js";import{_ as C}from"./Unedited.vue_vue_type_script_setup_true_lang-B_PPEncA.js";import{r as P}from"./index-D6rAUsPU.js";import{r as j}from"./TrashIcon-CpbmzRkx.js";import{r as E}from"./CircleStackIcon-DUEEmQGZ.js";import{r as S}from"./ArrowLeftIcon-ad8tfL7s.js";const T={class:"flex flex-col gap-2 xl:grid grid-cols-3 dark:bg-dark-001"},z={class:"flex flex-col gap-2 col-start-2"},A=["src"],F={class:"flex flex-col gap-2 mt-4 sm:flex-row justify-end"},Q=c({__name:"(Edit)",props:{edit_data:{}},setup(l){const m=U();function _(){return{name:l.edit_data.name,image_url:l.edit_data.image_url,short_name:l.edit_data.short_name,email:l.edit_data.email??"",phone_number:l.edit_data.phone_number?.toString()??""}}const a=v(_()),f=$(!1);function V(){const n=new FormData,e=D(a.image_url??"","image/jpg","cropped-image-department.jpg");n.append("name",a.name),n.append("image_url",e),n.append("short_name",a.short_name),n.append("email",a.email),n.append("phone_number",a.phone_number),n.append("_method","PUT"),g.post(route("dashboard.departments.update",{department:l.edit_data.id}),n)}function x(){g.delete(route("dashboard.departments.destroy",{department:l.edit_data.id}))}return(n,e)=>(w(),h("div",T,[t(C,{class:"col-span-3"}),s("div",z,[t(B,{title:"Update Department",description:"Update Department",icon:r(y),class:""},{default:d(()=>[s("form",{onSubmit:e[6]||(e[6]=k(o=>V(),["prevent"])),class:"flex flex-col gap-2"},[s("img",{src:a.image_url,class:"size-12 mx-auto rounded-full"},null,8,A),t(i,{onClick:e[0]||(e[0]=o=>f.value=!0),icon:r(P),type:"button",class:"w-full sm:w-auto mx-auto"},{default:d(()=>[...e[9]||(e[9]=[p("Upload Image",-1)])]),_:1},8,["icon"]),t(u,{modelValue:a.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.name=o),name:"Name",error:r(m).props.errors.name},null,8,["modelValue","error"]),t(u,{modelValue:a.short_name,"onUpdate:modelValue":e[2]||(e[2]=o=>a.short_name=o),name:"Short Name",error:r(m).props.errors.short_name},null,8,["modelValue","error"]),t(u,{modelValue:a.email,"onUpdate:modelValue":e[3]||(e[3]=o=>a.email=o),name:"Email",type:"email",error:r(m).props.errors.email},null,8,["modelValue","error"]),t(u,{modelValue:a.phone_number,"onUpdate:modelValue":e[4]||(e[4]=o=>a.phone_number=o),name:"Phone Number",type:"number",error:r(m).props.errors.phone_number},null,8,["modelValue","error"]),s("div",F,[t(i,{icon:r(j),color:"danger",type:"button",onClick:e[5]||(e[5]=o=>x()),disabled:!r(b)(["Department/Delete/All"],r(m).props.auth?.permissions)},{default:d(()=>[...e[10]||(e[10]=[p(" Delete ",-1)])]),_:1},8,["icon","disabled"]),t(i,{icon:r(E),color:"brand",disabled:!r(b)(["Department/Update/All"],r(m).props.auth?.permissions)},{default:d(()=>[...e[11]||(e[11]=[p(" Update ",-1)])]),_:1},8,["icon","disabled"]),t(i,{href:n.route("dashboard.departments.index"),icon:r(S),type:"button"},{default:d(()=>[...e[12]||(e[12]=[p("Back",-1)])]),_:1},8,["href","icon"])])],32)]),_:1},8,["icon"]),t(N,{modelValue:a.image_url,"onUpdate:modelValue":e[7]||(e[7]=o=>a.image_url=o),show:f.value,"onUpdate:show":e[8]||(e[8]=o=>f.value=o),name:"Upload Image",ratio:1,size:[100,100]},null,8,["modelValue","show"])])]))}});export{Q as default};
