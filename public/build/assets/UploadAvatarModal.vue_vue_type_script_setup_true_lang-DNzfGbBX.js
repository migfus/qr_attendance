import{d as S,p as c,q as x,r as M,f as C,o as B,u as a,S as R,w as s,b as o,e as t,s as v,G as $,J as j,_ as g,v as y,x as G,Y as V}from"./app-BOkKnMk8.js";import{R as z,r as L,S as h}from"./index-D6rAUsPU.js";const N={class:"fixed inset-0 z-50 overflow-y-auto"},U={class:"flex min-h-full items-end justify-center text-center sm:items-center sm:p-0"},D={class:"bg-white dark:bg-dark-002 px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},F={class:"flex flex-col"},H={class:"mt-3 text-center sm:mt-0 sm:text-left"},A={class:"text-base font-semibold leading-6 text-gray-900 dark:text-neutral-300",id:"modal-title"},I={class:"mt-2 flex flex-col items-center mx-auto"},J={class:"mt-2"},O={class:"mt-1 flex justify-center rounded-xl border-2 border-dashed border-gray-300 px-6 pt-5 pb-6"},P={class:"space-y-1 text-center"},Y={class:"flex text-sm text-gray-600 dark:text-neutral-300"},q={for:"file-upload",class:"relative cursor-pointer rounded-xl px-2 bg-white dark:bg-neutral-800 font-medium text-primary-600 focus-within:outline-hidden focus-within:ring-2 focus-within:ring-primary-500 focus-within:ring-offset-2 hover:text-primary-500"},Q={class:"flex flex-col gap-2 p-4 sm:flex-row justify-end"},E=S({__name:"UploadAvatarModal",props:c({size:{},name:{},ratio:{}},{modelValue:{},modelModifiers:{},show:{type:Boolean},showModifiers:{}}),emits:c(["upload"],["update:modelValue","update:show"]),setup(i,{emit:w}){const n=x(i,"modelValue"),r=x(i,"show"),d=i,b=w,p=M(null),f={cropperOption:{viewMode:2,dragMode:"crop",aspectRatio:d.ratio},cropperBoxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"}};function k(l){const{files:e}=l.target;if(!e||!e.length)return;const u=e[0],m=new FileReader;m.readAsDataURL(u),m.onload=()=>{n.value=String(m.result),p.value&&(p.value="")}}async function _(){if(!h)return;const l=h.getDataURL({maxWidth:d.size[0],maxHeight:d.size[1],imageSmoothingQuality:"high"});n.value=l,b("upload",l)}return(l,e)=>(B(),C(a(R),{as:"template",show:r.value},{default:s(()=>[o(a(V),{as:"div",class:"relative z-40",onClose:e[2]||(e[2]=u=>r.value=!1)},{default:s(()=>[o(a(v),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[...e[3]||(e[3]=[t("div",{class:"fixed inset-0 bg-dark-003/50 backdrop-blur-md"},null,-1)])]),_:1}),t("div",N,[t("div",U,[o(a(v),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:s(()=>[o(a($),{class:"relative transform overflow-hidden sm:rounded-xl bg-white dark:bg-dark-002 text-left shadow-xl transition-all sm:my-8 w-full sm:max-w-lg"},{default:s(()=>[t("div",D,[t("div",F,[t("div",H,[t("h3",A,j(i.name),1),t("div",I,[o(a(z),{boxStyle:f.cropperBoxStyle,img:n.value,options:f.cropperOption,class:"rounded-xl"},null,8,["boxStyle","img","options"])])])]),t("div",J,[t("div",O,[t("div",P,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t("div",Y,[t("label",q,[e[4]||(e[4]=t("span",null,"Upload a file",-1)),t("input",{onChange:k,ref:"uploadInput",id:"file-upload",name:"file-upload",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",class:"sr-only"},null,544)]),e[5]||(e[5]=t("p",{class:"pl-1"},"or drag and drop",-1))]),e[7]||(e[7]=t("p",{class:"text-xs text-gray-500 dark:text-neutral-300"},"PNG, JPG, GIF up to 10MB",-1))])])])]),t("div",Q,[o(g,{icon:a(L),block:"",color:"brand",onClick:e[0]||(e[0]=()=>{_(),r.value=!1}),class:"mt-1"},{default:s(()=>[...e[8]||(e[8]=[y(" Save ",-1)])]),_:1},8,["icon"]),o(g,{icon:a(G),onClick:e[1]||(e[1]=u=>r.value=!1),class:"mt-1"},{default:s(()=>[...e[9]||(e[9]=[y("Cancel",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}});export{E as _};
