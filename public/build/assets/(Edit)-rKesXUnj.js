import{_ as g}from"./SummaryCard.vue_vue_type_script_setup_true_lang-DwIEk5qu.js";import{_}from"./FirstStep.vue_vue_type_script_setup_true_lang-CaMAjO6_.js";import{d as v,r as x,a as U,c as w,o as m,b as l,e as y,w as b,f as s,g as $,t as r,n as k,B,h as p,i as j}from"./app-BOkKnMk8.js";import{_ as C}from"./SecondStep.vue_vue_type_style_index_0_lang-BsRCYxP5.js";import{_ as S}from"./ThirdStep.vue_vue_type_script_setup_true_lang-DDyE7E8q.js";import{_ as R}from"./FourthStep.vue_vue_type_script_setup_true_lang-DXEEd8e_.js";import"./BasicCard-ClXIXozC.js";import"./AppInput.vue_vue_type_script_setup_true_lang-Bd-6u1aG.js";import"./InformationCircleIcon-D7KJqvJ4.js";import"./CheckIcon-C5b3kr33.js";import"./ArrowRightIcon-D_ciWIjH.js";import"./ArrowLeftIcon-ad8tfL7s.js";import"./index-D6rAUsPU.js";import"./SelectContent.vue_vue_type_script_setup_true_lang-CB_lcQLn.js";import"./CheckCircleIcon-iiBHeo-f.js";import"./label-ChvFSArM.js";const T={class:"my-4 flex flex-col md:grid grid-cols-6 gap-4"},N={class:"flex flex-col col-span-4 lg:col-span-2 col-start-2"},Q=v({__name:"(Edit)",props:{edit_data:{},positions:{},departments:{},statuses:{},extra_names:{},claim_types:{}},setup(i){const n=x(1),d={id:i.edit_data.id,last_name:i.edit_data.last_name,first_name:i.edit_data.first_name,mid_name:i.edit_data.mid_name,ext_name:i.edit_data.extra_name,email:i.edit_data.email,department:i.edit_data.department.name,position:i.edit_data.position.name,status:i.edit_data.employee_status,claim:i.edit_data.claim_type,raw_image:i.edit_data.files[1].file_url??"",agree:!1,cropped_image:i.edit_data.files[i.edit_data.files.length-2].thumbnail_url??""},a=U({...d});function u(){const o=new URLSearchParams(window.location.search),e=new FormData,t=p(a.cropped_image,"image/jpg","cropped-image.jpg"),f=p(a.raw_image,"image/jpg","raw-image.jpg");e.append("last_name",a.last_name),e.append("first_name",a.first_name),e.append("mid_name",a.mid_name),e.append("ext_name_id",a.ext_name.id.toString()),e.append("email",a.email),e.append("department",a.department),e.append("position",a.position),e.append("status_id",a.status.id.toString()),e.append("claim_id",a.claim.id.toString()??""),a.cropped_image!=i.edit_data.files[i.edit_data.files.length-2].thumbnail_url&&(e.append("cropped_image",t),e.append("raw_image",f)),e.append("reason",o.get("reason")??""),e.append("_method","PUT"),j.post(route("arta-id.update",{arta_id:i.edit_data.id}),e,{preserveState:!0,headers:{"Content-Type":"multipart/form-data"}})}return(o,e)=>(m(),w("div",T,[l(B,{class:k(["lg:col-start-2 col-start-2 col-span-4","col-span-3 lg:col-span-2 "])},{default:b(()=>[n.value==1?(m(),s(_,{key:0,extra_names:i.extra_names,last_name:a.last_name,"onUpdate:last_name":e[0]||(e[0]=t=>a.last_name=t),first_name:a.first_name,"onUpdate:first_name":e[1]||(e[1]=t=>a.first_name=t),mid_name:a.mid_name,"onUpdate:mid_name":e[2]||(e[2]=t=>a.mid_name=t),ext_name:a.ext_name,"onUpdate:ext_name":e[3]||(e[3]=t=>a.ext_name=t),email:a.email,"onUpdate:email":e[4]||(e[4]=t=>a.email=t),step:n.value,"onUpdate:step":e[5]||(e[5]=t=>n.value=t),agree:a.agree,"onUpdate:agree":e[6]||(e[6]=t=>a.agree=t),onReset:e[7]||(e[7]=t=>Object.assign(a,r(d)))},null,8,["extra_names","last_name","first_name","mid_name","ext_name","email","step","agree"])):n.value==2?(m(),s(C,{key:1,department:a.department,"onUpdate:department":e[8]||(e[8]=t=>a.department=t),position:a.position,"onUpdate:position":e[9]||(e[9]=t=>a.position=t),status:a.status,"onUpdate:status":e[10]||(e[10]=t=>a.status=t),step:n.value,"onUpdate:step":e[11]||(e[11]=t=>n.value=t),positions:i.positions,departments:i.departments,statuses:i.statuses,onReset:e[12]||(e[12]=t=>Object.assign(a,r(d))),onBack:e[13]||(e[13]=t=>n.value=n.value-1)},null,8,["department","position","status","step","positions","departments","statuses"])):n.value==3?(m(),s(S,{key:2,image:a.cropped_image,"onUpdate:image":e[14]||(e[14]=t=>a.cropped_image=t),raw_image:a.raw_image,"onUpdate:raw_image":e[15]||(e[15]=t=>a.raw_image=t),step:n.value,"onUpdate:step":e[16]||(e[16]=t=>n.value=t),onBack:e[17]||(e[17]=t=>n.value=n.value-1)},null,8,["image","raw_image","step"])):n.value==4?(m(),s(R,{key:3,claim:a.claim,"onUpdate:claim":e[18]||(e[18]=t=>a.claim=t),step:n.value,"onUpdate:step":e[19]||(e[19]=t=>n.value=t),onConfirm:e[20]||(e[20]=t=>u()),onBack:e[21]||(e[21]=t=>n.value=n.value-1),claim_types:i.claim_types,email:a.email},null,8,["claim","step","claim_types","email"])):$("",!0)]),_:1}),y("div",N,[l(g,{form:a},null,8,["form"])])]))}});export{Q as default};
