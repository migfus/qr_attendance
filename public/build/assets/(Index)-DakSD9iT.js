import{_ as C}from"./SearchCard.vue_vue_type_script_setup_true_lang-CK4Lr1Xv.js";import{_ as A}from"./ContentCard.vue_vue_type_script_setup_true_lang-DJMPTc7e.js";import{c as _,o as g,e as s,d as U,a as B,r as x,aX as k,b as n,u as r,aY as M,w as d,_ as c,an as f,v as p,A as N,i as m,aZ as P}from"./app-BOkKnMk8.js";import{B as S}from"./BasicCard-ClXIXozC.js";import{_ as q}from"./PaginationCard.vue_vue_type_script_setup_true_lang-DBQF9yhf.js";import{_ as R}from"./RemovalPrompt.vue_vue_type_script_setup_true_lang-YaQ7D_CG.js";import{r as Z}from"./MagnifyingGlassCircleIcon-D5YSNX1c.js";import{r as h}from"./CheckCircleIcon-BGrwPwzL.js";import{_ as H}from"./Unedited.vue_vue_type_script_setup_true_lang-B_PPEncA.js";import{r as I}from"./ArrowRightIcon-D_ciWIjH.js";import{r as j}from"./ArrowLeftIcon-ad8tfL7s.js";import{r as D}from"./TrashIcon-CpbmzRkx.js";import"./AppInput.vue_vue_type_script_setup_true_lang-Bd-6u1aG.js";import"./AppCheckbox.vue_vue_type_script_setup_true_lang-DlampZ7V.js";import"./EllipsisVerticalIcon-ONelhbJp.js";import"./ExclamationTriangleIcon-DofqDO8p.js";function Y(i,o){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function E(i,o){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8.25V18a2.25 2.25 0 0 0 2.25 2.25h13.5A2.25 2.25 0 0 0 21 18V8.25m-18 0V6a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6ZM7.5 6h.008v.008H7.5V6Zm2.25 0h.008v.008H9.75V6Z"})])}const l=[{display_name:"All",value:"",icon:Z},{display_name:"Read",value:"Read",icon:h},{display_name:"Unread",value:"Unread",icon:Y}],Q={class:"grid grid-cols-1 xl:grid-cols-4 gap-4 dark:bg-dark-001"},T={class:"flex flex-col gap-4 xl:col-span-3"},O={class:"flex flex-col"},X={class:"flex gap-2 flex-col"},la=U({__name:"(Index)",props:{index_data:{}},setup(i){const o=B({search:route().queryParams.search?.toString()??"",start:route().queryParams.start?.toString()??"",end:route().queryParams.end?.toString()??"",search_filter:route().queryParams.search_filter?l.find(e=>e.value==route().queryParams.search_filter)??l[0]:l[0],start_select:!1,select_data:[]}),$=x(i.index_data.data.map(e=>({image_url:"https://cdn-icons-png.flaticon.com/512/1827/1827312.png",title:typeof e.data=="string"?e.data:e.data?.message??"",sub_title:k(e.created_at),ago:e.read_at?`Read at ${k(e.read_at)}`:"",sub_ago:"",id:String(e.id)}))),u=x(!1),b=[{href:"/dashboard/departments/[%id%]/edit",icon:I,label:"Details",callback:()=>{}}];function v(e=1){m.get(route("dashboard.notifications.index"),P(o,e))}function V(){m.post(route("dashboard.notifications.store"),{ids:i.index_data.data.map(e=>e.id),type:"mark-read"})}function y(){m.post(route("dashboard.notifications.store"),{ids:i.index_data.data.map(e=>e.id),type:"mark-unread"})}function w(){m.post(route("dashboard.notifications.store"),{ids:i.index_data.data.map(e=>e.id),type:"clear"})}return(e,a)=>(g(),_("div",Q,[n(H,{class:"col-span-3"}),s("div",T,[n(C,{modelValue:o,"onUpdate:modelValue":a[0]||(a[0]=t=>o=t),onReset:a[1]||(a[1]=t=>Object.assign(o,r(M)(r(l)[0]))),search_filters:r(l),no_create:!0,no_print:!0,onSearch:v,index_data_id:i.index_data.data.map(t=>t.id)},null,8,["modelValue","search_filters","index_data_id"]),n(A,{links:b,index_data:$.value,title:"Employee",start_select:o.start_select,modelValue:o.select_data,"onUpdate:modelValue":a[2]||(a[2]=t=>o.select_data=t)},null,8,["index_data","start_select","modelValue"]),n(q,{data:i.index_data,onChangePage:v},null,8,["data"])]),s("div",O,[n(S,{title:"Actions",description:"Additional actions",icon:r(E)},{default:d(()=>[s("div",X,[n(c,{onClick:a[3]||(a[3]=t=>V()),icon:r(h),disabled:!r(f)(["Notifications/Update/All"],e.$page.props.auth?.permissions)},{default:d(()=>[...a[8]||(a[8]=[p(" Mark Read ",-1)])]),_:1},8,["icon","disabled"]),n(c,{onClick:a[4]||(a[4]=t=>y()),icon:r(j),disabled:!r(f)(["Notifications/Update/All"],e.$page.props.auth?.permissions)},{default:d(()=>[...a[9]||(a[9]=[p(" Mark Unread ",-1)])]),_:1},8,["icon","disabled"]),n(c,{onClick:a[5]||(a[5]=t=>u.value=!0),icon:r(N),color:"danger",disabled:!r(f)(["Notifications/Delete/All"],e.$page.props.auth?.permissions)},{default:d(()=>[...a[10]||(a[10]=[p(" Clear ",-1)])]),_:1},8,["icon","disabled"])])]),_:1},8,["icon"])]),n(R,{modelValue:u.value,"onUpdate:modelValue":a[6]||(a[6]=t=>u.value=t),title:"Clear All Notifications?",confirmMessage:"Yes, Clear all",confirmIcon:r(D),onConfirm:a[7]||(a[7]=t=>w())},{default:d(()=>[...a[11]||(a[11]=[s("li",null,"All notifications will be deleted",-1),s("li",null,"You cannot undo this action.",-1)])]),_:1},8,["modelValue","confirmIcon"])]))}});export{la as default};
