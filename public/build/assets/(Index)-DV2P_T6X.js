import{c,o as l,e as a,d as B,r as $,I as U,a2 as N,f as _,w as i,n as v,g as k,ab as L,J as b,_ as w,u as e,ah as z,Q as q,R as S,ai as P,b as d,aX as E,K as I,N as F,B as j,P as O,T as C,v as p,an as R,aR as H,j as M,ad as V,b3 as J,a as K,k as Q,l as X,i as T,ao as G,y as W,x as Y}from"./app-BOkKnMk8.js";import{r as Z}from"./EllipsisVerticalIcon-ONelhbJp.js";import{r as ee}from"./ArrowRightIcon-D_ciWIjH.js";import{_ as te}from"./FormModal.vue_vue_type_script_setup_true_lang-BPnbyYLp.js";import{_ as ae}from"./AppTextArea.vue_vue_type_script_setup_true_lang-Bn83_HaO.js";import{_ as se}from"./AppToggle.vue_vue_type_script_setup_true_lang-BJrnlHNF.js";import{_ as re}from"./Unedited.vue_vue_type_script_setup_true_lang-B_PPEncA.js";import{r as ne}from"./PencilIcon-CQul3KT8.js";import{r as le}from"./PaperAirplaneIcon-VjKR_m3E.js";import"./BasicCard-ClXIXozC.js";import"./switch-BWfTFHiU.js";import"./label-ChvFSArM.js";function oe(s,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25"})])}function de(s,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 12.75M17.25 9v12"})])}function A(s,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function D(s,f){return l(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}const ie={class:v(["bg-white dark:bg-dark-002  p-6 sm:rounded-xl transition-all "])},ue={class:"flex justify-between mb-4 items-start"},ce={class:"text-base font-semibold leading-7 text-brand-900 dark:text-brand-100 truncate"},me={class:"flex gap-2 items-center"},fe={key:0},xe={key:0,class:"text-xs bg-red-500 px-2 py-0.5 text-neutral-50 rounded-full font-semibold"},be={key:1,class:"text-xs bg-brand-500 px-2 py-0.5 text-neutral-50 rounded-full font-semibold"},pe={class:"flex justify-between gap-2"},ge=["src"],ke={class:"flex flex-grow flex-col gap-0.5"},_e={class:"flex justify-between"},he={class:"font-semibold text-brand-700 dark:text-neutral-300 text-sm line-clamp-1"},ve=["onClick"],we={class:"font-semibold text-brand-700 dark:text-neutral-300 text-sm line-clamp-1"},ye={class:"font-semibold text-brand-600 dark:text-neutral-300 text-sm line-clamp-1"},$e={class:"font-semibold text-brand-600 dark:text-neutral-300 text-sm line-clamp-1"},Ce={class:"font-semibold text-brand-500 dark:text-neutral-300 text-xs line-clamp-1"},qe=["innerHTML"],Se={key:2,class:"flex flex-col bg-white dark:bg-dark-001 p-2 rounded-xl items-center font-semibold text-brand-500 dark:text-neutral-300 text-sm"},Me=B({__name:"RequestStatusCard",props:{icon:{type:[Function,Object]},title:{},data:{},request_status_types:{},collapse_all:{type:Boolean}},emits:["changeStatus"],setup(s,{emit:f}){const r=f,u=$(!1),g=$(!0);return setTimeout(()=>{g.value=!1},s.data.data.length*15),U(()=>s.collapse_all,m=>{u.value=m}),(m,x)=>{const y=N("Link");return l(),_(j,null,{default:i(()=>[a("div",ie,[a("div",null,[a("div",ue,[a("h3",ce,[(l(),_(L(s.icon),{class:"text-sm text-brand-700 dark:text-brand-50 h-4 w-4 inline mr-3 mb-[3px] align-middle"})),a("span",null,b(s.title),1)]),a("div",me,[s.data.total>0?(l(),c("div",fe,[s.title=="Unverified"?(l(),c("span",xe,b(s.data.total),1)):s.title=="Processing"?(l(),c("span",be,b(s.data.total),1)):k("",!0)])):k("",!0),s.data.total>0?(l(),_(w,{key:1,icon:u.value?e(A):e(D),iconOnly:"",onClick:x[0]||(x[0]=o=>u.value=!u.value)},null,8,["icon"])):k("",!0)])]),u.value?k("",!0):(l(),_(z,{key:0},{default:i(()=>[(l(!0),c(q,null,S(s.data.data,(o,t)=>(l(),c("div",{key:o.id,class:"flex flex-col bg-brand-50 dark:bg-dark-001 my-2 p-4 rounded first:rounded-t-xl",style:P(g.value?{transitionDelay:`${t*15}ms`}:{})},[a("div",pe,[o.files.length>0?(l(),c("img",{key:0,src:o.files[o.files.length-2].thumbnail_url??"",class:"flex size-28 rounded-md rounded-tl-xl object-cover"},null,8,ge)):k("",!0),a("div",ke,[a("div",_e,[a("div",he,[a("p",null,b(e(E)(o.created_at)),1)]),d(e(I),{as:"div",class:"relative inline-block text-left"},{default:i(()=>[a("div",null,[d(e(F),{class:"cursor-pointer"},{default:i(()=>[d(e(Z),{class:"size-5 text-brand-700 dark:text-neutral-300 my-auto","aria-hidden":"true"})]),_:1})]),d(j,null,{default:i(()=>[d(e(O),{class:"p-2 absolute right-0 z-10 w-52 origin-top-right rounded-xl bg-white dark:bg-dark-002 shadow-lg ring-1 ring-brand-200 dark:ring-neutral-600 ring-opacity-5 focus:outline-hidden"},{default:i(()=>[d(e(C),{class:"rounded-md rounded-t-xl"},{default:i(({active:n})=>[d(y,{href:m.route("dashboard.arta-id.show",{arta_id:o.id}),class:v([n?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","block pl-3 py-2 text-sm font-semibold cursor-pointer"])},{default:i(()=>[d(e(ee),{class:v([n?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","h-4 w-5 text-brand-400 inline mr-2"])},null,8,["class"]),x[2]||(x[2]=p(" Details ",-1))]),_:2},1032,["href","class"])]),_:2},1024),e(R)(["ARTA ID/Update/All"],m.$page.props.auth?.permissions)?(l(),_(e(C),{key:0,class:"rounded-md"},{default:i(({active:n})=>[d(y,{href:m.route("dashboard.arta-id.edit",{arta_id:o.id}),class:v([n?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","block pl-3 py-2 text-sm font-semibold cursor-pointer"])},{default:i(()=>[d(e(H),{class:v([n?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","h-4 w-5 text-brand-400 inline mr-2"])},null,8,["class"]),x[3]||(x[3]=p(" Edit ",-1))]),_:2},1032,["href","class"])]),_:2},1024)):k("",!0),e(R)(["ARTA ID/Update/All"],m.$page.props.auth?.permissions)?(l(!0),c(q,{key:1},S(s.request_status_types,n=>(l(),_(e(C),{class:"rounded-md last:rounded-b-xl"},{default:i(({active:h})=>[a("div",{onClick:()=>r("changeStatus",n.id,n.name,o.id,o.email),class:v([h?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","block pl-3 py-2 text-sm font-semibold cursor-pointer"])},[d(e(M),{class:v([h?"bg-brand-50 dark:bg-dark-003 text-brand-600 dark:text-neutral-300":"text-brand-700 dark:text-neutral-300","h-4 w-5 text-brand-400 inline mr-2"])},null,8,["class"]),p(" Set to "+b(n.name),1)],10,ve)]),_:2},1024))),256)):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),a("p",we,b(e(V)(o)),1),a("p",ye,b(o.position.name),1),a("p",$e,b(o.department.name),1),a("p",Ce,b(o.employee_status.name),1)])]),a("p",{innerHTML:e(J)(o.latest_request_status.content,e(V)(o)),class:"font-semibold text-brand-600 text-sm line-clamp-6 bg-white dark:bg-dark-002 dark:text-neutral-300 rounded-md rounded-b-xl p-2 pt-2 mt-2"},null,8,qe)],4))),128))]),_:1})),s.data.total>10&&!u.value?(l(),_(y,{key:1,href:`${m.route("dashboard.arta-id.index")}?search_filter=${s.title}`,class:"flex flex-col bg-white dark:bg-dark-001 p-2 rounded rounded-b-xl items-center font-semibold text-brand-500 dark:text-neutral-300 text-sm mt-2"},{default:i(()=>[...x[4]||(x[4]=[p(" More Requests... ",-1)])]),_:1},8,["href"])):k("",!0),s.data.data.length==0?(l(),c("div",Se," No Requests ")):u.value?(l(),_(w,{key:3,class:"w-full",onClick:x[1]||(x[1]=o=>u.value=!1)},{default:i(()=>[p(" Show "+b(s.data.total)+" Requests ",1)]),_:1})):k("",!0)])])]),_:1})}}}),je={class:"flex flex-col lg:grid lg:grid-cols-2 xl:grid-cols-3 gap-4 dark:bg-dark-001"},Re={class:"flex gap-2 lg:col-span-2 xl:col-span-3 bg-white dark:bg-dark-002 p-4 px-6 sm:rounded-2xl"},Ve={class:"flex flex-col gap-2 mt-4 sm:flex-row justify-end"},Oe=B({__name:"(Index)",props:{index_data:{},request_status_types:{}},setup(s){const f=$(!1),r=K({id:"",status_type_id:"",status_type_name:"",message:"",email:"",send_to_email:!0}),u=Q(),g=X("dashboard/request-status/is_recent",!0,localStorage),m=$(!1);function x(o,t,n,h){switch(r.id=n,r.email=h,r.status_type_id=o,r.status_type_name=t,r.send_to_email=!0,f.value=!0,t.toLowerCase()){case"unverified":r.message=u.props.auth?.user_settings.request_status_messages.Unverified??"";break;case"processing":r.message=u.props.auth?.user_settings.request_status_messages.Processing??"";break;case"completed":r.message=u.props.auth?.user_settings.request_status_messages.Completed??"";break;case"claimed":r.message=u.props.auth?.user_settings.request_status_messages.Claimed??"";break;case"rejected":r.message=u.props.auth?.user_settings.request_status_messages.Rejected??"";break;case"removed":r.message=u.props.auth?.user_settings.request_status_messages.Removed??"";break}}function y(){T.put(route("dashboard.request-statuses.update",{request_status:r.id}),{status_type_id:r.status_type_id,message:r.message,send_to_email:r.send_to_email}),f.value=!1}return U(g,()=>{T.get(route("dashboard.request-statuses.index"),{sort:g.value?"ASC":"DESC"},G())}),(o,t)=>(l(),c("div",je,[d(re,{class:"col-span-3"}),a("div",Re,[d(w,{icon:e(g)?e(de):e(oe),onClick:t[0]||(t[0]=n=>g.value=!e(g))},{default:i(()=>[p(b(`${e(g)?"Set to Recent":"Set to Oldest"}`),1)]),_:1},8,["icon"]),d(w,{icon:m.value?e(A):e(D),onClick:t[1]||(t[1]=n=>m.value=!m.value)},{default:i(()=>[p(b(`${m.value?"Show All":"Collapse All"}`),1)]),_:1},8,["icon"])]),(l(!0),c(q,null,S(s.index_data,(n,h)=>(l(),c("div",{key:h},[d(Me,{title:h,data:n,icon:e(M),onChangeStatus:x,request_status_types:s.request_status_types,collapse_all:m.value},null,8,["title","data","icon","request_status_types","collapse_all"])]))),128)),d(te,{icon:e(M),title:`To be ${r.status_type_name.toUpperCase()}`,description:"Update request status",size:"w-xl",modelValue:f.value,"onUpdate:modelValue":t[6]||(t[6]=n=>f.value=n)},{default:i(()=>[a("form",{onSubmit:W(y,["prevent"])},[d(w,{onClick:t[2]||(t[2]=n=>f.value=!1),icon:e(ne),type:"button",href:o.route("dashboard.account-settings.show",{account_setting:4})},{default:i(()=>[...t[7]||(t[7]=[p(" Update Default Message ",-1)])]),_:1},8,["icon","href"]),d(ae,{name:"Message",modelValue:r.message,"onUpdate:modelValue":t[3]||(t[3]=n=>r.message=n)},null,8,["modelValue"]),d(se,{name:`Email to ${r.email}`,modelValue:r.send_to_email,"onUpdate:modelValue":t[4]||(t[4]=n=>r.send_to_email=n)},null,8,["name","modelValue"]),a("div",Ve,[d(w,{color:"brand",icon:e(le)},{default:i(()=>[...t[8]||(t[8]=[p("Notify",-1)])]),_:1},8,["icon"]),d(w,{onClick:t[5]||(t[5]=n=>f.value=!1),icon:e(Y),type:"button"},{default:i(()=>[...t[9]||(t[9]=[p("Cancel",-1)])]),_:1},8,["icon"])])],32)]),_:1},8,["icon","title","modelValue"])]))}});export{Oe as default};
