import{r as V,_ as P}from"./SearchCard.vue_vue_type_script_setup_true_lang-CK4Lr1Xv.js";import{_ as C}from"./PaginationCard.vue_vue_type_script_setup_true_lang-DBQF9yhf.js";import{c as g,o as u,e as l,d as w,p,r as b,q as B,J as f,u as c,ad as q,b1 as I,aX as M,f as k,g as R,aR as y,a as _,b as x,aY as U,w as j,Q as N,R as T,ai as D,ah as E,i as Q,aZ as Z,ao as z}from"./app-BOkKnMk8.js";import{_ as A}from"./PhotoPreviewModal.vue_vue_type_script_setup_true_lang-DRGzmNNf.js";import{_ as F}from"./AppCheckbox.vue_vue_type_script_setup_true_lang-DlampZ7V.js";import{_ as O}from"./Unedited.vue_vue_type_script_setup_true_lang-B_PPEncA.js";import"./BasicCard-ClXIXozC.js";import"./AppInput.vue_vue_type_script_setup_true_lang-Bd-6u1aG.js";import"./EllipsisVerticalIcon-ONelhbJp.js";import"./CheckCircleIcon-BGrwPwzL.js";import"./TrashIcon-CpbmzRkx.js";import"./ArrowLeftIcon-ad8tfL7s.js";import"./ArrowRightIcon-D_ciWIjH.js";import"./InformationCircleIcon-D7KJqvJ4.js";import"./CheckIcon-C5b3kr33.js";import"./Square2StackIcon-Cc__3gcb.js";import"./ArrowDownIcon-BPnPHX1P.js";function G(e,d){return u(),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"})])}const J={class:"bg-white dark:bg-dark-002 sm:rounded-xl"},L=["src"],X={class:"text-xs bg-neutral-700 absolute text-neutral-100 rounded-xl m-2 px-2 py-1"},Y={class:"flex flex-col gap-2 mb-2"},H={class:"px-4 flex justify-between gap-2"},K={class:"text-xm text-brand-500 dark:text-neutral-200 font-semibold line-clamp-1 grow"},W={class:"text-sm text-brand-500 dark:text-neutral-300 font-semibold line-clamp-1 shrink-0"},ee={class:"px-4 flex justify-between gap-2"},te={class:"text-sm text-brand-500 dark:text-neutral-400 font-semibold line-clamp-1 shrink-0"},ae={class:"text-sm text-brand-500 dark:text-neutral-400 font-semibold line-clamp-1 shrink-0"},ne={class:"flex justify-end m-4"},ie=w({__name:"GalleryCard",props:p({item:{},start_select:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:p(["showPreview"],["update:modelValue"]),setup(e,{emit:d}){const s=b(!1),n=B(e,"modelValue"),r=d;function m(){s.value?n.value.push(e.item.id.toString()):n.value.splice(n.value.indexOf(e.item.id.toString()),1)}return(v,o)=>(u(),g("div",J,[l("div",{onClick:o[0]||(o[0]=a=>r("showPreview",e.item)),class:"flex flex-col gap-2 cursor-pointer"},[l("img",{src:`${v.$page.props.base_url}${e.item.thumbnail_url}`,class:"w-full h-64 object-cover sm:rounded-t-xl"},null,8,L),l("div",X,f(e.item.file_type.name),1),l("div",Y,[l("div",H,[l("h3",K,f(c(q)(e.item.fileable,!0)),1),l("h3",W,f(c(I)(e.item.size)),1)]),l("div",ee,[l("h3",te,f(`${e.item.width} x ${e.item.height}`),1),l("h3",ae,f(c(M)(e.item.created_at)),1)])])]),l("div",ne,[e.start_select?(u(),k(F,{key:0,name:"select",modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=a=>s.value=a),checked:n.value.filter(a=>a==e.item.id.toString()).length>0,no_label:"",onChange:o[2]||(o[2]=a=>m())},null,8,["modelValue","checked"])):R("",!0)])]))}}),h=[{display_name:"All",value:"",icon:V},{display_name:"Cropped",value:"Cropped",icon:G},{display_name:"Raw",value:"Raw",icon:y},{display_name:"Saved from Editor",value:"Saved from Editor",icon:y},{display_name:"Uploaded By Staff",value:"Uploaded By Staff",icon:y}],le={class:"flex flex-col gap-4 dark:bg-dark-001"},ke=w({__name:"(Index)",props:{index_data:{}},setup(e){const d=_({search:route().queryParams.search?.toString()??"",start:route().queryParams.start?.toString()??"",end:route().queryParams.end?.toString()??"",search_filter:route().queryParams.search_filter?h.find(a=>a.value==route().queryParams.search_filter)??h[0]:h[0],start_select:!1,select_data:[]}),s=b(!1),n=_({photo:null,employee_id:""});function r(a){s.value=!0,n.photo=a,n.employee_id=a.fileable?.id?.toString()??""}function m(a=1){window.scrollTo({top:0,left:0,behavior:"smooth"}),Q.get(route("dashboard.galleries.index"),Z(d,a),z())}function v(){if(!n.photo)return;const a=e.index_data.data.findIndex(t=>t.id===n.photo?.id);if(a===e.index_data.data.length-1)e.index_data.current_page<e.index_data.last_page&&(m(e.index_data.current_page+1),setTimeout(()=>{e.index_data.data.length>0&&r(e.index_data.data[0])},300));else{const t=(a+1)%e.index_data.data.length;r(e.index_data.data[t])}}function o(){if(!n.photo)return;const a=e.index_data.data.findIndex(t=>t.id===n.photo?.id);if(a===0)e.index_data.current_page>1&&(m(e.index_data.current_page-1),setTimeout(()=>{e.index_data.data.length>0&&r(e.index_data.data[e.index_data.data.length-1])},300));else{const t=(a-1+e.index_data.data.length)%e.index_data.data.length;r(e.index_data.data[t])}}return(a,t)=>(u(),g("div",le,[x(O),x(P,{modelValue:d,"onUpdate:modelValue":t[0]||(t[0]=i=>d=i),index_data_id:e.index_data.data.map(i=>i.id.toString()),search_filters:c(h),no_print:!0,onReset:t[1]||(t[1]=i=>Object.assign(d,c(U)(c(h)[0]))),onSearch:m,no_create:""},null,8,["modelValue","index_data_id","search_filters"]),x(E,{class:"flex flex-col sm:grid grid-cols-2 xl:grid-cols-4 gap-4"},{default:j(()=>[(u(!0),g(N,null,T(e.index_data.data,(i,$)=>(u(),k(ie,{item:i,onShowPreview:r,modelValue:d.select_data,"onUpdate:modelValue":t[2]||(t[2]=S=>d.select_data=S),start_select:d.start_select,style:D({transitionDelay:`${$*20}ms`})},null,8,["item","modelValue","start_select","style"]))),256))]),_:1}),x(C,{data:e.index_data,onChangePage:m},null,8,["data"]),x(A,{show:s.value,"onUpdate:show":t[3]||(t[3]=i=>s.value=i),photo:n.photo,"onUpdate:photo":t[4]||(t[4]=i=>n.photo=i),employee_id:n.employee_id,onNext:t[5]||(t[5]=i=>v()),onPrevious:t[6]||(t[6]=i=>o())},null,8,["show","photo","employee_id"])]))}});export{ke as default};
