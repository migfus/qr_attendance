import{d as x,p as w,q as b,r as p,f as h,o as m,w as s,b as o,u as l,Y as k,e as t,s as f,G as C,y as B,c as M,g as U,_ as c,v,x as $,S as F,i as N}from"./app-BOkKnMk8.js";import{r as S}from"./ArrowUpIcon-DZ4CZCY0.js";const V={class:"fixed inset-0 z-50 overflow-y-auto"},P={class:"flex min-h-full items-end justify-center text-center sm:items-center sm:p-0"},j={class:"bg-white dark:bg-dark-002 px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},z={key:0,class:"mt-2"},D={class:"mt-1 flex items-center gap-4 rounded-xl border-2 border-dashed border-gray-300 p-2 flex-col"},G=["src"],I={class:"flex flex-col mt-4 dark:bg-dark-002 bg-light-002 hover:dark:bg-dark-003 p-4 rounded-xl dark:text-neutral-200"},R={class:"flex flex-col sm:flex-row justify-end p-4 gap-2"},q=x({__name:"UploadFileModal",props:w({employee_id:{}},{show:{type:Boolean},showModifiers:{}}),emits:["update:show"],setup(d){const i=b(d,"show"),n=p(null),u=p(null);function y(a){const e=a.target;if(!e.files||!e.files.length)return;n.value=e.files[0];const r=new FileReader;r.onload=g=>{u.value=g.target?.result},r.readAsDataURL(n.value)}function _(){if(!n.value){alert("Please select a file to upload.");return}const a=new FormData;a.append("type","upload-image"),a.append("file",n.value),a.append("employee_id",d.employee_id),a.append("_method","PUT"),N.post(route("dashboard.arta-id.update",{arta_id:d.employee_id}),a,{preserveState:!1})}return(a,e)=>(m(),h(l(F),{as:"template",show:i.value},{default:s(()=>[o(l(k),{as:"div",class:"relative z-40",onClose:e[2]||(e[2]=r=>i.value=!1)},{default:s(()=>[o(l(f),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[...e[3]||(e[3]=[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 backdrop-transition-opacity backdrop-blur"},null,-1)])]),_:1}),t("div",V,[t("div",P,[o(l(f),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:s(()=>[o(l(C),{class:"relative transform overflow-hidden sm:rounded-xl bg-white dark:bg-dark-002 text-left shadow-xl transition-all sm:my-8 w-full sm:max-w-md"},{default:s(()=>[t("form",{onSubmit:e[1]||(e[1]=B(r=>_(),["prevent"]))},[t("div",j,[u.value?(m(),M("div",z,[t("div",D,[t("img",{src:u.value,alt:"Preview",class:"rounded-xl w-full h-auto"},null,8,G)])])):U("",!0),t("div",I,[t("input",{type:"file",accept:"image/*",ref:"fileInput",onChange:y},null,544)])]),t("div",R,[o(c,{icon:l(S),color:"brand",class:"mt-1"},{default:s(()=>[...e[4]||(e[4]=[v("Upload",-1)])]),_:1},8,["icon"]),o(c,{icon:l($),onClick:e[0]||(e[0]=r=>i.value=!1),class:"mt-1",type:"button"},{default:s(()=>[...e[5]||(e[5]=[v("Close",-1)])]),_:1},8,["icon"])])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}});export{q as _};
