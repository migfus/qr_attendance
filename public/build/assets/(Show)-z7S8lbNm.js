import{d as D,r as c,a as U,c as g,o as r,b as l,f as k,g as _,e,J as x,w as d,v as m,u as o,an as v,aU as V,_ as p,Q as j,R as N,n as A,i as B,x as O}from"./app-BOkKnMk8.js";import{_ as z}from"./FormCard.vue_vue_type_script_setup_true_lang-DGfHibQr.js";import{_ as E}from"./RemovalPrompt.vue_vue_type_script_setup_true_lang-YaQ7D_CG.js";import{_ as F}from"./Unedited.vue_vue_type_script_setup_true_lang-B_PPEncA.js";import{r as I}from"./ArrowLeftIcon-ad8tfL7s.js";import{r as M}from"./TrashIcon-CpbmzRkx.js";import{r as R}from"./PencilIcon-CQul3KT8.js";import"./AppInput.vue_vue_type_script_setup_true_lang-Bd-6u1aG.js";import"./BasicCard-ClXIXozC.js";import"./CircleStackIcon-DUEEmQGZ.js";import"./ExclamationTriangleIcon-DofqDO8p.js";import"./ArrowRightIcon-D_ciWIjH.js";const S={class:"px-4 sm:p-6 lg:p-8 py-8 bg-white dark:bg-dark-002 sm:rounded-2xl 2xl:col-span-2"},T={class:"flex flex-col sm:flex-row space-y-4 justify-between sm:items-center mb-4"},Y={class:"sm:flex-auto"},J={class:"text-base font-semibold leading-6 text-gray-900 dark:text-neutral-200"},L={class:"flex gap-2 justify-end w-full sm:w-auto"},P={class:"mt-8 flow-root"},Q={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},W={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},q={class:"min-w-full divide-y divide-gray-300 dark:divide-dark-003"},G={class:"divide-y divide-gray-200 dark:divide-neutral-600"},H={class:"pl-3"},K={class:"text-start"},X={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"},Z={class:"flex gap-2 justify-end opacity-50 group-hover:opacity-100 transition-all"},ut=D({__name:"(Show)",props:{show_data:{}},setup(w){const u=c(!1),b=c(""),n=c(""),i=U(f());function f(){return{name:"",id:"",count:0}}function h(a){u.value=!0,b.value=a}function y(a,t){n.value=a,t?Object.assign(i,t):Object.assign(i,f()),window.scrollTo({top:0,behavior:"smooth"})}function $(){B.delete(route("dashboard.data-configurations.destroy",{data_configuration:route().params.data_configuration}),{data:{id:b.value}})}return(a,t)=>(r(),g("div",{class:A([n.value&&"xl:grid-cols-2 2xl:grid-cols-3","grid grid-cols-1 gap-4 dark:bg-dark-001"])},[l(F,{class:"col-span-3"}),n.value?(r(),k(z,{key:0,title:n.value,"onUpdate:title":t[0]||(t[0]=s=>n.value=s),name:i.name,"onUpdate:name":t[1]||(t[1]=s=>i.name=s),id:i.id,"onUpdate:id":t[2]||(t[2]=s=>i.id=s),onCancel:t[3]||(t[3]=s=>Object.assign(i,f()))},null,8,["title","name","id"])):_("",!0),e("div",S,[e("div",T,[e("div",Y,[e("h1",J,x(a.route().params.data_configuration),1)]),e("div",L,[l(p,{icon:o(V),color:"brand",onClick:t[4]||(t[4]=s=>y("Add")),disabled:!o(v)(["Data Configuration/Create/All"],a.$page.props.auth?.permissions)},{default:d(()=>[...t[7]||(t[7]=[m(" Add Data ",-1)])]),_:1},8,["icon","disabled"]),l(p,{icon:o(I),href:a.route("dashboard.data-configurations.index")},{default:d(()=>[...t[8]||(t[8]=[m("Back",-1)])]),_:1},8,["icon","href"])])]),t[13]||(t[13]=e("div",{class:"flex"},[e("p",{class:"text-sm text-brand-400 dark:text-neutral-300"},"You cannot delete this while the user is still using the data.")],-1)),e("div",P,[e("div",Q,[e("div",W,[e("table",q,[t[11]||(t[11]=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-neutral-200 sm:pl-0"}," Data Name "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-start text-sm font-semibold text-gray-900 dark:text-neutral-200 sm:pl-0",width:"150"}," Used by users "),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-0",width:"10"},[e("span",{class:"sr-only"},"Edit")])])],-1)),e("tbody",G,[(r(!0),g(j,null,N(w.show_data,s=>(r(),g("tr",{key:s.name,class:"group dark:text-neutral-200"},[e("td",H,x(s.name),1),e("td",K,x(s.count),1),e("td",X,[e("div",Z,[l(p,{size:"sm",icon:o(R),onClick:C=>y("Update",s),disabled:!o(v)(["Data Configuration/Update/All"],a.$page.props.auth?.permissions)},{default:d(()=>[...t[9]||(t[9]=[m(" Edit ",-1)])]),_:1},8,["icon","onClick","disabled"]),s.count==0?(r(),k(p,{key:0,size:"sm",color:"danger",icon:o(O),onClick:C=>h(s.id),disabled:!o(v)(["Data Configuration/Delete/All"],a.$page.props.auth?.permissions)},{default:d(()=>[...t[10]||(t[10]=[m(" Delete ",-1)])]),_:1},8,["icon","onClick","disabled"])):_("",!0)])])]))),128))])])])])]),l(E,{title:"Delete?",confirmMessage:"Delete",confirmIcon:o(M),modelValue:u.value,"onUpdate:modelValue":t[5]||(t[5]=s=>u.value=s),type:"error",onConfirm:t[6]||(t[6]=s=>$())},{default:d(()=>[...t[12]||(t[12]=[e("b",{class:"text-red-500"},"Warning!",-1),e("li",{class:"text-red-500 font-semibold"},'Make sure that NO "user" is using this data.',-1),e("li",{class:"text-brand-500 font-semibold"},"You cannot undo this action.",-1)])]),_:1},8,["confirmIcon","modelValue"])])],2))}});export{ut as default};
